{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Pramuditha Kaushalya\\\\Desktop\\\\TrainTracker\\\\traintracker\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Pramuditha Kaushalya\\\\Desktop\\\\TrainTracker\\\\traintracker\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Pramuditha Kaushalya\\\\Desktop\\\\TrainTracker\\\\traintracker\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Pramuditha Kaushalya\\\\Desktop\\\\TrainTracker\\\\traintracker\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Pramuditha Kaushalya\\\\Desktop\\\\TrainTracker\\\\traintracker\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Pramuditha Kaushalya\\\\Desktop\\\\TrainTracker\\\\traintracker\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Pramuditha Kaushalya\\\\Desktop\\\\TrainTracker\\\\traintracker\\\\src\\\\Messages\\\\createmessage.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { createMessage as _createMessage, createNotification as _createNotification } from '../store/action/messageActions';\nimport { Redirect } from 'react-router-dom';\nvar loginStyle = {\n  width: \"50%\",\n  maxWidth: \"1100px\",\n  margin: \"100px auto\",\n  border: \"5px solid #ddd\",\n  borderRadius: \"5px\",\n  padding: \"30px\"\n};\n\nvar createmessage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(createmessage, _Component);\n\n  function createmessage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, createmessage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(createmessage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      user: '',\n      title: '',\n      content: ''\n    };\n\n    _this.componentDidMount = function () {\n      var auth = _this.props.auth;\n\n      _this.setState({\n        user: auth.email\n      });\n    };\n\n    _this.handlechange = function (e) {\n      _this.setState(_defineProperty({}, e.target.id, e.target.value));\n    };\n\n    _this.handlesubmit = function (e) {\n      e.preventDefault();\n      console.log(_this.state);\n\n      _this.props.createMessage(_this.state);\n\n      _this.props.history.push('/');\n    };\n\n    return _this;\n  }\n\n  _createClass(createmessage, [{\n    key: \"render\",\n    value: function render() {\n      var auth = this.props.auth;\n      if (!auth.uid) return React.createElement(Redirect, {\n        to: \"/signin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      });\n      return React.createElement(\"div\", {\n        style: loginStyle,\n        className: \"white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handlesubmit,\n        className: \"white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        \"grey-text\": true,\n        \"text-darken-3\": true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Create New Notification\"), React.createElement(\"div\", {\n        className: \"input-field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Title\"), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"title\",\n        onChange: this.handlechange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"input-field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Message Content\"), React.createElement(\"textarea\", {\n        id: \"content\",\n        cols: \"30\",\n        rows: \"10\",\n        className: \"materialize-textarea\",\n        onChange: this.handlechange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"input-field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn blue lighten-1 z-depth-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Create Message\"))));\n    }\n  }]);\n\n  return createmessage;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.firebase.auth\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    createMessage: function createMessage(message) {\n      return dispatch(_createMessage(message));\n    },\n    createNotification: function createNotification(notification) {\n      return dispatch(_createNotification(notification));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(createmessage, _createNotification);","map":{"version":3,"sources":["C:\\Users\\Pramuditha Kaushalya\\Desktop\\TrainTracker\\traintracker\\src\\Messages\\createmessage.js"],"names":["React","Component","connect","createMessage","createNotification","Redirect","loginStyle","width","maxWidth","margin","border","borderRadius","padding","createmessage","state","user","title","content","componentDidMount","auth","props","setState","email","handlechange","e","target","id","value","handlesubmit","preventDefault","console","log","history","push","uid","mapStateToProps","firebase","mapDispatchToProps","dispatch","message","notification"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {createMessage, createNotification} from '../store/action/messageActions';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nconst loginStyle = {\r\n    width: \"50%\",\r\n    maxWidth: \"1100px\",\r\n    margin: \"100px auto\",\r\n    border: \"5px solid #ddd\",\r\n    borderRadius: \"5px\",\r\n    padding: \"30px\",\r\n    \r\n  }\r\n\r\nclass createmessage extends Component {\r\n    state = {\r\n        user: '',\r\n        title:'',\r\n        content:'',\r\n    }\r\n    componentDidMount = () => {\r\n        const {auth} = this.props;\r\n        this.setState({\r\n            \r\n            user : auth.email\r\n        })\r\n    }\r\n    handlechange = (e) => {\r\n        this.setState({\r\n            [e.target.id]:e.target.value\r\n        })\r\n    }\r\n    handlesubmit = (e) => {\r\n        e.preventDefault();\r\n        console.log(this.state);\r\n        this.props.createMessage(this.state);\r\n        this.props.history.push('/');\r\n    }\r\n\r\n  render() {\r\n    const {auth} = this.props;\r\n    if(!auth.uid) return <Redirect to='/signin'/>\r\n\r\n    return (\r\n      <div style={loginStyle} className=\"white\">\r\n        <form onSubmit={this.handlesubmit} className=\"white\">\r\n            <h5 grey-text text-darken-3>Create New Notification</h5>\r\n            <div className=\"input-field\">\r\n                <label htmlFor=\"title\">Title</label>\r\n                <input type=\"text\" id=\"title\" onChange={this.handlechange}/>\r\n            </div>\r\n            <div className=\"input-field\">\r\n                <label htmlFor=\"content\">Message Content</label>\r\n                <textarea id=\"content\" cols=\"30\" rows=\"10\" className=\"materialize-textarea\" onChange={this.handlechange}></textarea>\r\n            </div>\r\n            <div className=\"input-field\">\r\n                <button className=\"btn blue lighten-1 z-depth-0\">Create Message</button>\r\n            </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n        auth:state.firebase.auth\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return{\r\n        createMessage:(message) => dispatch(createMessage(message)),\r\n        createNotification:(notification) => dispatch(createNotification(notification))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps) (createmessage, createNotification)\r\n"]},"metadata":{},"sourceType":"module"}