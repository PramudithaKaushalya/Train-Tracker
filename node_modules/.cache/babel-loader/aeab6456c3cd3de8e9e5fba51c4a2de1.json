{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Pramuditha Kaushalya\\\\Desktop\\\\TrainTracker\\\\traintracker\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nexport var createMessage = function createMessage(message) {\n  return function (dispatch, getState, _ref) {\n    var getFirebase = _ref.getFirebase,\n        getFirestore = _ref.getFirestore;\n    var firestore = getFirestore();\n    var profile = getState().firebase.profile;\n    var adminId = getState().firebase.auth.uid;\n    firestore.collection('messages').add(_objectSpread({}, message, {\n      adminId: adminId,\n      author: profile.firstName,\n      createdOn: new Date()\n    })).then(function () {\n      dispatch({\n        type: 'CREATE_MESSAGE',\n        message: message\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: 'CREATE_PROJECT_ERROR',\n        err: err\n      });\n    });\n  };\n};\nexport var createNotification = function createNotification(notification) {\n  return function (dispatch, getState, _ref2) {\n    var getFirebase = _ref2.getFirebase,\n        getFirestore = _ref2.getFirestore;\n    var firestore = getFirestore();\n    var adminId = getState().firebase.auth.uid;\n    firestore.collection('notifications').add({\n      title: notification,\n      adminId: adminId,\n      content: \"Added New notification\",\n      createdOn: new Date()\n    }).then(function () {\n      dispatch({\n        type: 'CREATE_MESSAGE',\n        notification: notification\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: 'CREATE_PROJECT_ERROR',\n        err: err\n      });\n    });\n  };\n};","map":{"version":3,"sources":["C:\\Users\\Pramuditha Kaushalya\\Desktop\\TrainTracker\\traintracker\\src\\store\\action\\messageActions.js"],"names":["createMessage","message","dispatch","getState","getFirebase","getFirestore","firestore","profile","firebase","adminId","auth","uid","collection","add","author","firstName","createdOn","Date","then","type","catch","err","createNotification","notification","title","content"],"mappings":";AAAA,OAAO,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,OAAD,EAAY;AACrC,SAAM,UAACC,QAAD,EAAUC,QAAV,QAAmD;AAAA,QAA9BC,WAA8B,QAA9BA,WAA8B;AAAA,QAAlBC,YAAkB,QAAlBA,YAAkB;AACrD,QAAMC,SAAS,GAAGD,YAAY,EAA9B;AACA,QAAME,OAAO,GAAGJ,QAAQ,GAAGK,QAAX,CAAoBD,OAApC;AACA,QAAME,OAAO,GAAGN,QAAQ,GAAGK,QAAX,CAAoBE,IAApB,CAAyBC,GAAzC;AACAL,IAAAA,SAAS,CAACM,UAAV,CAAqB,UAArB,EAAiCC,GAAjC,mBACOZ,OADP;AAEIQ,MAAAA,OAAO,EAACA,OAFZ;AAGIK,MAAAA,MAAM,EAAEP,OAAO,CAACQ,SAHpB;AAIIC,MAAAA,SAAS,EAAG,IAAIC,IAAJ;AAJhB,QAKGC,IALH,CAKQ,YAAK;AACThB,MAAAA,QAAQ,CAAC;AAACiB,QAAAA,IAAI,EAAC,gBAAN;AAAuBlB,QAAAA,OAAO,EAAPA;AAAvB,OAAD,CAAR;AACH,KAPD,EAOGmB,KAPH,CAOS,UAACC,GAAD,EAAQ;AACbnB,MAAAA,QAAQ,CAAC;AAACiB,QAAAA,IAAI,EAAC,sBAAN;AAA6BE,QAAAA,GAAG,EAAHA;AAA7B,OAAD,CAAR;AAEH,KAVD;AAYH,GAhBD;AAiBH,CAlBM;AAoBP,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,YAAD,EAAiB;AAC/C,SAAM,UAACrB,QAAD,EAAUC,QAAV,SAAmD;AAAA,QAA9BC,WAA8B,SAA9BA,WAA8B;AAAA,QAAlBC,YAAkB,SAAlBA,YAAkB;AACrD,QAAMC,SAAS,GAAGD,YAAY,EAA9B;AACA,QAAMI,OAAO,GAAGN,QAAQ,GAAGK,QAAX,CAAoBE,IAApB,CAAyBC,GAAzC;AACAL,IAAAA,SAAS,CAACM,UAAV,CAAqB,eAArB,EAAsCC,GAAtC,CAA0C;AACtCW,MAAAA,KAAK,EAAED,YAD+B;AAEtCd,MAAAA,OAAO,EAAEA,OAF6B;AAGtCgB,MAAAA,OAAO,EAAE,wBAH6B;AAItCT,MAAAA,SAAS,EAAG,IAAIC,IAAJ;AAJ0B,KAA1C,EAKGC,IALH,CAKQ,YAAK;AACThB,MAAAA,QAAQ,CAAC;AAACiB,QAAAA,IAAI,EAAC,gBAAN;AAAuBI,QAAAA,YAAY,EAAZA;AAAvB,OAAD,CAAR;AACH,KAPD,EAOGH,KAPH,CAOS,UAACC,GAAD,EAAQ;AACbnB,MAAAA,QAAQ,CAAC;AAACiB,QAAAA,IAAI,EAAC,sBAAN;AAA6BE,QAAAA,GAAG,EAAHA;AAA7B,OAAD,CAAR;AAEH,KAVD;AAWH,GAdD;AAeH,CAhBM","sourcesContent":["export const createMessage = (message) =>{\r\n    return(dispatch,getState,{ getFirebase,getFirestore}) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile; \r\n        const adminId = getState().firebase.auth.uid;\r\n        firestore.collection('messages').add({\r\n            ...message,\r\n            adminId:adminId,\r\n            author: profile.firstName,\r\n            createdOn : new Date()\r\n        }).then(() =>{\r\n            dispatch({type:'CREATE_MESSAGE',message});\r\n        }).catch((err) =>{\r\n            dispatch({type:'CREATE_PROJECT_ERROR',err});\r\n            \r\n        })\r\n      \r\n    }\r\n};\r\n\r\nexport const createNotification = (notification) =>{\r\n    return(dispatch,getState,{ getFirebase,getFirestore}) => {\r\n        const firestore = getFirestore();\r\n        const adminId = getState().firebase.auth.uid;\r\n        firestore.collection('notifications').add({\r\n            title: notification,\r\n            adminId: adminId,\r\n            content: \"Added New notification\",\r\n            createdOn : new Date()\r\n        }).then(() =>{\r\n            dispatch({type:'CREATE_MESSAGE',notification});\r\n        }).catch((err) =>{\r\n            dispatch({type:'CREATE_PROJECT_ERROR',err});\r\n            \r\n        }) \r\n    }\r\n};\r\n "]},"metadata":{},"sourceType":"module"}