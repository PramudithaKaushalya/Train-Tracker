(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{268:function(e,t,a){e.exports=a.p+"static/media/Logo.fb4d5021.jpg"},276:function(e,t,a){e.exports=a(545)},281:function(e,t,a){},545:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(121),i=a.n(l),s=(a(281),a(6)),c=a(7),o=a(9),m=a(8),d=a(10),p=a(3),u=a(55),h=a(268),E=a.n(h),g=a(4),b=a(30),f=Object(g.b)(null,function(e){return{logout:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"LOGOUT_SUCCESS"})}).catch(function(t){e({type:"LOGOUT_ERROR",err:t})})})}}})(function(e){return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(p.c,{to:"/Register"},"Admin")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/Driver"},"Driver")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/Add"},"Train")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/Search"},"Shedule")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/Edit"},"Edit")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/Notifications"},"Notifications")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/Passenger"},"Passenger")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/actlog",className:"btn btn-floating blue darken-3"},"PK   ",e.profile.initials)),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/signin",onClick:e.logout},"Log Out")))}),v=Object(g.b)(null,function(e){return{logout:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"LOGOUT_SUCCESS"})}).catch(function(t){e({type:"LOGOUT_ERROR",err:t})})})}}})(function(e){return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(p.c,{to:"/signin"},"Sign In")))}),y=Object(g.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}})(function(e){var t=e.auth,a=e.profile,n=t.uid?r.a.createElement(f,{profile:a}):r.a.createElement(v,null);return r.a.createElement("nav",{className:"nav-wrapper grey darken-3"},r.a.createElement("div",null,r.a.createElement("img",{src:E.a,alt:"Logo",height:"65px",width:"60px"}),r.a.createElement(p.b,{to:"/",className:"brand-logo"}," Train Tracks"),n))}),C=a(14),N={width:"90%",maxWidth:"500px",margin:"100px auto",border:"5px solid #ddd",borderRadius:"5px",padding:"30px"},A=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",redirectToReferrer:!1},a.handleChange=function(e){a.setState(Object(C.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.login(a.state)},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;if(t.uid)return r.a.createElement(u.a,{to:"/"});var n=(this.props.location.state||{from:{pathname:"/signin"}}).from;return this.state.redirectToReferrer.redirectToReferrer?r.a.createElement(u.a,{to:n}):r.a.createElement("div",{style:N,className:"white"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h5",null,"SIGN IN"),"Sign In to your account.",r.a.createElement("br",null),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"}," Email "),r.a.createElement("input",{id:"email",type:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"}," Password "),r.a.createElement("input",{id:"password",type:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn blue lighten-1 z-depth-0"},"Sign In")),r.a.createElement("div",{className:"red-text center"},a?r.a.createElement("p",null,a):null)))}}]),t}(n.Component),D=Object(g.b)(function(e){return{auth:e.firebase.auth,authError:e.auth.authError}},function(e){return{login:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS",credentials:a})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a}}})(A),S={width:"90%",maxWidth:"500px",margin:"100px auto",border:"5px solid #ddd",borderRadius:"5px",padding:"30px"},O=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",email:"",password:"",redirectToReferrer:!1},a.handleChange=function(e){a.setState(Object(C.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.state.password!==a.state.cpassword?(a.setState({error:"Passwords did not matching!!!"}),alert("Passwords did not matching!!!")):""===a.state.name||""===a.state.email?(a.setState({error:"Fiels are empty"}),alert("All fields are required!!!")):(a.props.register(a.state),a.setState({redirectToReferrer:!0}),alert("Create Admin Successfully!!!")),a.props.history.push("/")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.authError,t=(this.props.location.state||{from:{pathname:"/Register"}}).from;return this.state.redirectToReferrer&&null=={authError:e}?r.a.createElement(u.a,{to:t}):this.props.auth.uid?r.a.createElement("div",{style:S,className:"white"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h5",null,"Register the Administrators"),r.a.createElement("br",null),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"name"}," Name "),r.a.createElement("input",{id:"name",type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"}," Email "),r.a.createElement("input",{id:"email",type:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"}," Password "),r.a.createElement("input",{id:"password",type:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"cpassword"}," Confirm Password "),r.a.createElement("input",{id:"cpassword",type:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn blue lighten-1 z-depth-0"},"Sign Up")),r.a.createElement("div",{className:"red-text center"},e?r.a.createElement("p",null,e):null))):r.a.createElement(u.a,{to:"/signin"})}}]),t}(n.Component),x=Object(g.b)(function(e){return console.log(e),{auth:e.firebase.auth}},function(e){return{register:function(t){return e((a=t,function(e,t,n){var r=n.getFirebase,l=n.getFirestore;r().auth().createUserWithEmailAndPassword(a.email,a.password).then(function(){e({type:"REGISTRATION_SUCCESS",credentials:a})}).catch(function(t){e({type:"REGISTRATION_ERROR",err:t})}),l().collection("admin").doc(a.email).set(Object(b.a)({},a,{createAt:new Date})).then(function(){e({type:"CREATE_USER",credentials:a})}).catch(function(t){e({type:"CREATE_USER_ERROR",err:t})})}));var a}}})(O),R={width:"90%",maxWidth:"500px",margin:"100px auto",border:"5px solid #ddd",borderRadius:"5px",padding:"30px"},w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",email:"",password:"",cpassword:"",redirectToReferrer:!1},a.handleChange=function(e){a.setState(Object(C.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.state.password!==a.state.cpassword?(a.setState({error:"Passwords did not matching"}),alert("Passwords did not matching!!!")):""===a.state.name||""===a.state.email?(a.setState({error:"Fiels are empty"}),alert("All fields are required!!!")):(a.setState({redirectToReferrer:!0}),alert("Create Driver Successfully!!!")),console.log(a.state.email),a.props.history.push("/")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.authError,t=(this.props.location.state||{from:{pathname:"/Driver"}}).from;return this.state.redirectToReferrer&&null=={authError:e}?r.a.createElement(u.a,{to:t}):this.props.auth.uid?r.a.createElement("div",{style:R,className:"white"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h5",null,"Register the Drivers"),r.a.createElement("br",null),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"name"}," Name "),r.a.createElement("input",{id:"name",type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"}," Email "),r.a.createElement("input",{id:"email",type:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"}," Password "),r.a.createElement("input",{id:"password",type:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"cpassword"}," Confirm Password "),r.a.createElement("input",{id:"cpassword",type:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn blue lighten-1 z-depth-0"},"Sign Up")),r.a.createElement("div",{className:"red-text center"},e?r.a.createElement("p",null,e):null))):r.a.createElement(u.a,{to:"/signin"})}}]),t}(n.Component),F=Object(g.b)(function(e){return console.log(e),{auth:e.firebase.auth}},function(e){return{driver:function(t){return e((a=t,function(e,t,n){var r=n.getFirebase,l=n.getFirestore;r().auth().createUserWithEmailAndPassword(a.email,a.password).then(function(){e({type:"REGISTRATION_SUCCESS",credentials:a})}).catch(function(t){e({type:"REGISTRATION_ERROR",err:t})}),l().collection("drivers").doc(a.email).set(Object(b.a)({},a,{createAt:new Date})).then(function(){e({type:"CREATE_USER",credentials:a})}).catch(function(t){e({type:"CREATE_USER_ERROR",err:t})})}));var a}}})(w),T=a(29),j=a.n(T),k=function(e){var t=e.notifications;return r.a.createElement("div",{className:"section notf"},r.a.createElement("div",{className:"card z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},"Notifications"),r.a.createElement("ul",{className:"notification-list"},t&&t.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("span",null,e.user,"(Admin) "),r.a.createElement("br",null),r.a.createElement("span",{className:"red-text"},e.content),r.a.createElement("div",{className:"grey-text note-date"},j()(e.time.toDate()).fromNow()))})))))},_=function(e){var t=e.message;return r.a.createElement("div",{className:"card z-deapth-0 message-additional"},r.a.createElement("div",{className:"card-content grey-text text-darken-3"},r.a.createElement("span",{className:"card-title"},t.title),r.a.createElement("p",null,"Posted by ",t.author),r.a.createElement("p",{className:"red-text"},j()(t.createdOn.toDate()).calendar())))},I=function(e){var t=e.messages;return r.a.createElement("div",{className:"message-list section"},t&&t.map(function(e){return r.a.createElement(p.b,{to:"/message/"+e.id,key:e.id},r.a.createElement(_,{message:e}))}))},U=a(26),G=a(18),P=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.messages,a=e.auth,n=e.notifications;return a.uid?r.a.createElement("div",{className:"dashboard container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6"},r.a.createElement(I,{messages:t})),r.a.createElement("div",{className:"col s12 m5 offset-m1"},r.a.createElement(k,{notifications:n})))):r.a.createElement(u.a,{to:"/signin"})}}]),t}(n.Component),M=Object(G.d)(Object(g.b)(function(e){return console.log(e),{messages:e.firestore.ordered.messages,auth:e.firebase.auth,notifications:e.firestore.ordered.notifications}}),Object(U.firestoreConnect)([{collection:"messages",limit:4,orderBy:["createdOn","desc"]},{collection:"notifications",limit:8,orderBy:["time","desc"]}]))(P),B=a(39),z=a(27),L=function(e){return function(t,a,n){n.getFirebase;var r=n.getFirestore,l=(n.firebase,r()),i=e.except.split(""),s=0;for(s=0;s<i.length;s++){var c;c=parseInt(i[s]),i[s]=c}l.collection("Train").doc(e.colArr).set({Details:{Name:e.name,RunBy:e.run,Side:e.side,Type:e.type,Available:e.class,RunByExcept:i},ColomboFort:{Arr:e.colArr,Dep:e.colDep,stops:e.colStop},Maradana:{Arr:e.marArr,Dep:e.marDep,stops:e.marStop},Dematagoda:{Arr:e.demArr,Dep:e.demDep,stops:e.demStop},Kelaniya:{Arr:e.kelArr,Dep:e.kelDep,stops:e.kelStop},Wanavasala:{Arr:e.wanArr,Dep:e.wanDep,stops:e.wanStop},Hunupitiya:{Arr:e.hunArr,Dep:e.hunDep,stops:e.hunStop},Enderamulla:{Arr:e.endArr,Dep:e.endDep,stops:e.endStop},Horape:{Arr:e.horArr,Dep:e.horDep,stops:e.horStop},Ragama:{Arr:e.ragArr,Dep:e.ragDep,stops:e.ragStop},Walpola:{Arr:e.walArr,Dep:e.walDep,stops:e.walStop},Batuwatte:{Arr:e.batArr,Dep:e.batDep,stops:e.batStop},Bulugahagoda:{Arr:e.bulArr,Dep:e.bulDep,stops:e.bulStop},Ganemulla:{Arr:e.ganArr,Dep:e.ganDep,stops:e.ganStop},Yagoda:{Arr:e.yagArr,Dep:e.yagDep,stops:e.yagStop},Gampaha:{Arr:e.gamArr,Dep:e.gamDep,stops:e.gamStop},lat:6.9331195,lng:79.847847,time:1565765415e3,createAt:new Date}).then(function(){t({type:"CREATE_TRAIN",train:e})}).catch(function(e){t({type:"CREATE_TRAIN_ERROR",err:e})})}},W=a(13),Y=a.n(W),H={width:"50%",maxWidth:"500px",margin:"100px auto",border:"5px solid #ddd",borderRadius:"5px",padding:"30px"},K=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(C.a)({},e.target.id,e.target.value))},a.handleUpdate=function(e){e.preventDefault(),a.props.createTrain(a.state),alert("That train is updated"),a.setState({redirectToReferrer:!0}),a.props.history.push("/")},a.handleDelete=function(e){e.preventDefault(),Object(z.getFirestore)().collection("Train").doc(a.state.train).delete().then(function(){alert("Document Successfully Deleted!")}).catch(function(e){alert("Error removing document: ",e)}),a.props.history.push("/")},a.handleSubmit=function(e){e.preventDefault();var t=a.state.train;Object(z.getFirestore)().collection("Train").doc(t).get().then(function(e){e.exists?(this.setState({name:e.data().Details.Name,type:e.data().Details.Type,side:e.data().Details.Side,run:e.data().Details.RunBy,class:e.data().Details.Available,colArr:e.data().ColomboFort.Arr,colDep:e.data().ColomboFort.Dep,colStop:e.data().ColomboFort.stops,marArr:e.data().Maradana.Arr,marDep:e.data().Maradana.Dep,marStop:e.data().Maradana.stops,demArr:e.data().Dematagoda.Arr,demDep:e.data().Dematagoda.Dep,demStop:e.data().Dematagoda.stops,kelArr:e.data().Kelaniya.Arr,kelDep:e.data().Kelaniya.Dep,kelStop:e.data().Kelaniya.stops,wanArr:e.data().Wanavasala.Arr,wanDep:e.data().Wanavasala.Dep,wanStop:e.data().Wanavasala.stops,hunArr:e.data().Hunupitiya.Arr,hunDep:e.data().Hunupitiya.Dep,hunStop:e.data().Hunupitiya.stops,endArr:e.data().Enderamulla.Arr,endDep:e.data().Enderamulla.Dep,endStop:e.data().Enderamulla.stops,horArr:e.data().Horape.Arr,horDep:e.data().Horape.Dep,horStop:e.data().Horape.stops,ragArr:e.data().Ragama.Arr,ragDep:e.data().Ragama.Dep,ragStop:e.data().Ragama.stops,walArr:e.data().Walpola.Arr,walDep:e.data().Walpola.Dep,walStop:e.data().Walpola.stops,batArr:e.data().Batuwatte.Arr,batDep:e.data().Batuwatte.Dep,batStop:e.data().Batuwatte.stops,bulArr:e.data().Bulugahagoda.Arr,bulDep:e.data().Bulugahagoda.Dep,bulStop:e.data().Bulugahagoda.stops,ganArr:e.data().Ganemulla.Arr,ganDep:e.data().Ganemulla.Dep,ganStop:e.data().Ganemulla.stops,yagArr:e.data().Yagoda.Arr,yagDep:e.data().Yagoda.Dep,yagStop:e.data().Yagoda.stops,gamArr:e.data().Gampaha.Arr,gamDep:e.data().Gampaha.Dep,gamStop:e.data().Gampaha.Arr}),console.log("Document data:",this.state.name)):alert("No such document!")}.bind(Object(B.a)(Object(B.a)(a)))).catch(function(e){console.log("Error getting document:",e)})},a.state={train:"",name:"",run:"",side:"",type:"",class:"",except:"",colArr:"",colDep:"",colStop:"",marArr:"",marDep:"",marStop:"",demArr:"",demDep:"",demStop:"",kelArr:"",kelDep:"",kelStop:"",wanArr:"",wanDep:"",wanStop:"",hunArr:"",hunDep:"",hunStop:"",endArr:"",endDep:"",endStop:"",horArr:"",horDep:"",horStop:"",ragArr:"",ragDep:"",ragStop:"",walArr:"",walDep:"",walStop:"",batArr:"",batDep:"",batStop:"",bulArr:"",bulDep:"",bulStop:"",ganArr:"",ganDep:"",ganStop:"",yagArr:"",yagDep:"",yagStop:"",gamArr:"",gamDep:"",gamStop:"",redirectToReferrer:!1},a.handleSubmit=a.handleSubmit.bind(Object(B.a)(Object(B.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?r.a.createElement("div",{style:H,className:"white"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h5",null,"Update/ Delete"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"train"}," Train "),r.a.createElement("input",{id:"train",type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn blue lighten-1 z-depth-0"},"Find Here"))),r.a.createElement("form",{onSubmit:this.handleUpdate},r.a.createElement("label",{htmlFor:"name"}," Name "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"name",value:this.state.name,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," Run By "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"run",value:this.state.run,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"side"}," Side "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"side",value:this.state.side,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"type"}," Type "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"type",value:this.state.type,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"class"}," Available classes "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"class",value:this.state.class,type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"type"}," Run By Except "),r.a.createElement("input",{id:"except",type:"text",onChange:this.handleChange})),r.a.createElement(Y.a,{key:"col",Fort:!0,trigger:"ColomboFort",className:"trigger"},r.a.createElement("label",{htmlFor:"name"}," Arrival Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"colArr",value:this.state.colArr,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," Depature Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"colDep",value:this.state.colDep,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," stops "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"colStop",value:this.state.colStop,type:"text",onChange:this.handleChange}))),r.a.createElement(Y.a,{key:"mar",Fort:!0,trigger:"Maradana",className:"trigger"},r.a.createElement("label",{htmlFor:"name"}," Arrival Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"marArr",value:this.state.marArr,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," Depature Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"marDep",value:this.state.marDep,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," stops "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"marStop",value:this.state.marStop,type:"text",onChange:this.handleChange}))),r.a.createElement(Y.a,{key:"dem",Fort:!0,trigger:"Dematagoda",className:"trigger"},r.a.createElement("label",{htmlFor:"name"}," Arrival Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"demArr",value:this.state.demArr,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," Depature Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"demDep",value:this.state.demDep,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," stops "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"demStop",value:this.state.demStop,type:"text",onChange:this.handleChange}))),r.a.createElement(Y.a,{key:"kel",Fort:!0,trigger:"Kelaniya",className:"trigger"},r.a.createElement("label",{htmlFor:"name"}," Arrival Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"kelArr",value:this.state.kelArr,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," Depature Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"kelDep",value:this.state.kelDep,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," stops "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"kelStop",value:this.state.kelStop,type:"text",onChange:this.handleChange}))),r.a.createElement(Y.a,{key:"wan",Fort:!0,trigger:"Wanavasala",className:"trigger"},r.a.createElement("label",{htmlFor:"name"}," Arrival Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"wanArr",value:this.state.wanArr,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," Depature Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"wanDep",value:this.state.wanDep,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," stops "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"wanStop",value:this.state.wanStop,type:"text",onChange:this.handleChange}))),r.a.createElement(Y.a,{key:"hun",Fort:!0,trigger:"Hunupitiya",className:"trigger"},r.a.createElement("label",{htmlFor:"name"}," Arrival Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"hunArr",value:this.state.hunArr,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," Depature Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"hunDep",value:this.state.hunDep,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," stops "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"hunStop",value:this.state.hunStop,type:"text",onChange:this.handleChange}))),r.a.createElement(Y.a,{key:"end",Fort:!0,trigger:"Enderamulla",className:"trigger"},r.a.createElement("label",{htmlFor:"name"}," Arrival Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"endArr",value:this.state.endArr,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," Depature Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"endDep",value:this.state.endDep,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," stops "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"endStop",value:this.state.endStop,type:"text",onChange:this.handleChange}))),r.a.createElement(Y.a,{key:"hor",Fort:!0,trigger:"Horape",className:"trigger"},r.a.createElement("label",{htmlFor:"name"}," Arrival Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"horArr",value:this.state.horArr,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," Depature Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"horDep",value:this.state.horDep,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," stops "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"horStop",value:this.state.horStop,type:"text",onChange:this.handleChange}))),r.a.createElement(Y.a,{key:"rag",Fort:!0,trigger:"Ragama",className:"trigger"},r.a.createElement("label",{htmlFor:"name"}," Arrival Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"ragArr",value:this.state.ragArr,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," Depature Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"ragDep",value:this.state.ragDep,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," stops "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"ragStop",value:this.state.ragStop,type:"text",onChange:this.handleChange}))),r.a.createElement(Y.a,{key:"wal",Fort:!0,trigger:"Walpola",className:"trigger"},r.a.createElement("label",{htmlFor:"name"}," Arrival Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"walArr",value:this.state.walArr,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," Depature Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"walDep",value:this.state.walDep,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," stops "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"walStop",value:this.state.walStop,type:"text",onChange:this.handleChange}))),r.a.createElement(Y.a,{key:"bat",Fort:!0,trigger:"Batuwatte",className:"trigger"},r.a.createElement("label",{htmlFor:"name"}," Arrival Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"batArr",value:this.state.batArr,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," Depature Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"batDep",value:this.state.batDep,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," stops "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"batStop",value:this.state.batStop,type:"text",onChange:this.handleChange}))),r.a.createElement(Y.a,{key:"bul",Fort:!0,trigger:"Bulugahagoda",className:"trigger"},r.a.createElement("label",{htmlFor:"name"}," Arrival Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"bulArr",value:this.state.bulArr,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," Depature Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"bulDep",value:this.state.bulDep,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," stops "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"bulStop",value:this.state.bulStop,type:"text",onChange:this.handleChange}))),r.a.createElement(Y.a,{key:"gan",Fort:!0,trigger:"Ganemulla",className:"trigger"},r.a.createElement("label",{htmlFor:"name"}," Arrival Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"ganArr",value:this.state.ganArr,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," Depature Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"ganDep",value:this.state.ganDep,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," stops "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"ganStop",value:this.state.ganStop,type:"text",onChange:this.handleChange}))),r.a.createElement(Y.a,{key:"yag",Fort:!0,trigger:"Yagoda",className:"trigger"},r.a.createElement("label",{htmlFor:"name"}," Arrival Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"yagArr",value:this.state.yagArr,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," Depature Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"yagDep",value:this.state.yagDep,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," stops "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"yagStop",value:this.state.yagStop,type:"text",onChange:this.handleChange}))),r.a.createElement(Y.a,{key:"gam",Fort:!0,trigger:"Gampaha",className:"trigger"},r.a.createElement("label",{htmlFor:"name"}," Arrival Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"gamArr",value:this.state.gamArr,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," Depature Time "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"gamDep",value:this.state.gamDep,type:"text",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"run"}," stops "),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"gamStop",value:this.state.gamStop,type:"text",onChange:this.handleChange}))),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn blue lighten-1 z-depth-0"},"Update"))),r.a.createElement("td",null,r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn blue lighten-1 z-depth-0",onClick:this.handleDelete},"Delete")))))),r.a.createElement("div",{className:"red-text center"},a?r.a.createElement("p",null,a):null))):r.a.createElement(u.a,{to:"/signin"})}}]),t}(n.Component),J=Object(g.b)(function(e){return console.log(e),{auth:e.firebase.auth}},function(e){return{createTrain:function(t){return e(L(t))}}})(K),q=a(122),$=a(273),Q={width:"50%",maxWidth:"1100px",margin:"100px auto",border:"5px solid #ddd",borderRadius:"5px",padding:"30px"},V=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={from:"",to:"",redirectToReferrer:!1,list:[],name:"",arr:"",dep:"",clasess:"",type:"",run:"",in:""},a.handleChange=function(e){a.setState(Object(C.a)({},e.target.id,e.target.value))},a.handleUpdate=function(e){return Object(z.getFirestore)().collection("Train").doc("DC").update({capital:!0}).then(function(){console.log("Document successfully updated!")}).catch(function(e){console.error("Error updating document: ",e)})},a.handleDelete=function(e){a.setState(Object(C.a)({},e.target.id,e.target.value))},a.handleClick=function(e){a.setState({i:e.value}),console.log(a.state.in)},a.handleSubmit=function(e){e.preventDefault();var t=a.state.to,n=a.state.from;console.log("From: "+n,"To: "+t);var r,l=Object(z.getFirestore)().collection("Train").where(t+".stops","==","true").where(n+".stops","==","true"),i=0;l.get().then(function(e){e.docs.forEach(function(e){r={key:i.toString(),title:e.get(n+".Dep"),name:"Name : "+e.get("Details.Name"),dep:"Departure from "+n+" : "+e.get(n+".Dep"),arr:"Arrival at "+t+" : "+e.get(t+".Arr"),classes:"Available Classes : "+e.get("Details.Available"),type:"Train Type : "+e.get("Details.Type"),run:"Run By : "+e.get("Details.Runby")};var l=a.state.list.slice();l.push(r),a.setState({list:l}),i++})})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){if(!this.props.auth.uid)return r.a.createElement(u.a,{to:"/signin"});var e=this.state.list,t=[],a=!0,n=!1,l=void 0;try{for(var i,s=e.entries()[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var c=i.value,o=Object(q.a)(c,2),m=o[0],d=o[1];t.push(r.a.createElement(Y.a,{key:m,trigger:d.title,className:"trigger"},d.name,r.a.createElement("br",null),d.dep,r.a.createElement("br",null),d.arr,r.a.createElement("br",null),d.classes,r.a.createElement("br",null),d.type,r.a.createElement("br",null),d.run,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement($.a,{trigger:r.a.createElement("button",{className:"btn blue lighten-1 z-depth-0",key:m}," Update "),position:"right center"},r.a.createElement("div",null,r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"name"}," Train Name "),r.a.createElement("input",{id:"name",type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"arr"}," Arrival Time"),r.a.createElement("input",{id:"arr",type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"dep"}," Departure Time "),r.a.createElement("input",{id:"dep",type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"clasess"}," Available Classes "),r.a.createElement("input",{id:"clasess",type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"type"}," Train Type "),r.a.createElement("input",{id:"type",type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"run"}," Run By "),r.a.createElement("input",{id:"run",type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn blue lighten-1 z-depth-0",id:"in",value:m,onClick:this.handleChange},"Update"))))," ",r.a.createElement("span",null),r.a.createElement("button",{className:"btn blue lighten-1 z-depth-0"},"Delete")))}}catch(p){n=!0,l=p}finally{try{a||null==s.return||s.return()}finally{if(n)throw l}}return r.a.createElement("div",{style:Q,className:"white"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h5",null,"SHEDULE"),r.a.createElement("div",{className:"input-field"}),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"from"},"From "),r.a.createElement("input",{id:"from",type:"text",ref:"from",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"to"},"To "),r.a.createElement("input",{id:"to",type:"text",ref:"to",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn blue lighten-1 z-depth-0"},"Search Here"))),t)}}]),t}(n.Component),X=Object(g.b)(function(e){return{auth:e.firebase.auth,authError:e.auth.authError}})(V),Z={width:"90%",maxWidth:"500px",margin:"100px auto",border:"5px solid #ddd",borderRadius:"5px",padding:"30px"},ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",run:"",side:"",type:"",class:"",except:"",colArr:"",colDep:"",colStop:"",marArr:"",marDep:"",marStop:"",demArr:"",demDep:"",demStop:"",kelArr:"",kelDep:"",kelStop:"",wanArr:"",wanDep:"",wanStop:"",hunArr:"",hunDep:"",hunStop:"",endArr:"",endDep:"",endStop:"",horArr:"",horDep:"",horStop:"",ragArr:"",ragDep:"",ragStop:"",walArr:"",walDep:"",walStop:"",batArr:"",batDep:"",batStop:"",bulArr:"",bulDep:"",bulStop:"",ganArr:"",ganDep:"",ganStop:"",yagArr:"",yagDep:"",yagStop:"",gamArr:"",gamDep:"",gamStop:"",redirectToReferrer:!1},a.handleChange=function(e){a.setState(Object(C.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.createTrain(a.state),console.log(a.state),a.setState({redirectToReferrer:!0}),alert("Create Train Successfully"),a.props.history.push("/")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;if(!t.uid)return r.a.createElement(u.a,{to:"/signin"});var n=(this.props.location.state||{from:{pathname:"/Add"}}).from;if(this.state.redirectToReferrer&&null=={authError:a})return r.a.createElement(u.a,{to:n});var l=[],i=!0,s=!1,c=void 0;try{for(var o,m=[{arr:"colArr",dep:"colDep",stop:"colStop",name:"ColomboFort"},{arr:"marArr",dep:"marDep",stop:"marStop",name:"Maradana"},{arr:"demArr",dep:"demDep",stop:"demStop",name:"Dematagoda"},{arr:"kelArr",dep:"kelDep",stop:"kelStop",name:"Kelaniya"},{arr:"wanArr",dep:"wanDep",stop:"wanStop",name:"Wanavasala"},{arr:"hunArr",dep:"hunDep",stop:"hunStop",name:"hunupitiya"},{arr:"endArr",dep:"endDep",stop:"endStop",name:"Enderamulla"},{arr:"horArr",dep:"horDep",stop:"horStop",name:"Horape"},{arr:"ragArr",dep:"ragDep",stop:"ragStop",name:"Ragama"},{arr:"walArr",dep:"walDep",stop:"walStop",name:"Walpola"},{arr:"batArr",dep:"batDep",stop:"batStop",name:"Batuwatte"},{arr:"bulArr",dep:"bulDep",stop:"bulStop",name:"Bulugahagoda"},{arr:"ganArr",dep:"ganDep",stop:"ganStop",name:"Ganemulla"},{arr:"yagArr",dep:"yagDep",stop:"yagStop",name:"Yagoda"},{arr:"gamArr",dep:"gamDep",stop:"gamStop",name:"Gampaha"}].entries()[Symbol.iterator]();!(i=(o=m.next()).done);i=!0){var d=o.value,p=Object(q.a)(d,2),h=p[0],E=p[1];l.push(r.a.createElement(Y.a,{key:h,Fort:!0,trigger:E.name,className:"trigger"},r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"name"}," Arrival Time "),r.a.createElement("input",{id:E.arr,type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"run"}," Depature Time "),r.a.createElement("input",{id:E.dep,type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"run"}," stops "),r.a.createElement("input",{id:E.stop,type:"text",onChange:this.handleChange}))))}}catch(g){s=!0,c=g}finally{try{i||null==m.return||m.return()}finally{if(s)throw c}}return r.a.createElement("div",{style:Z,className:"white"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h5",null,"Create New Train"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"name"}," Name "),r.a.createElement("input",{id:"name",type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"run"}," Run By "),r.a.createElement("input",{id:"run",type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"side"}," Side "),r.a.createElement("input",{id:"side",type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"type"}," Type "),r.a.createElement("input",{id:"type",type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"type"}," Available classes "),r.a.createElement("input",{id:"class",type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"type"}," Run By Except "),r.a.createElement("input",{id:"except",type:"text",onChange:this.handleChange})),l,r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn blue lighten-1 z-depth-0"},"Add")),r.a.createElement("div",{className:"red-text center"},a?r.a.createElement("p",null,a):null)))}}]),t}(n.Component),te=Object(g.b)(function(e){return{auth:e.firebase.auth}},function(e){return{createTrain:function(t){return e(L(t))}}})(ee),ae=function(e){return function(t,a,n){n.getFirebase;var r=(0,n.getFirestore)(),l=a().firebase.auth.uid;r.collection("notifications").add({title:e,adminId:l,content:"Added New notification",createdOn:new Date}).then(function(){t({type:"CREATE_MESSAGE",notification:e})}).catch(function(e){t({type:"CREATE_PROJECT_ERROR",err:e})})}},ne={width:"50%",maxWidth:"1100px",margin:"100px auto",border:"5px solid #ddd",borderRadius:"5px",padding:"30px"},re=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={author:"",title:"",content:""},a.componentDidMount=function(){var e=a.props.auth;a.setState({author:e.email})},a.handlechange=function(e){a.setState(Object(C.a)({},e.target.id,e.target.value))},a.handlesubmit=function(e){e.preventDefault(),console.log(a.state),a.props.createMessage(a.state),a.props.history.push("/")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.auth.uid?r.a.createElement("div",{style:ne,className:"white"},r.a.createElement("form",{onSubmit:this.handlesubmit,className:"white"},r.a.createElement("h5",{"grey-text":!0,"text-darken-3":!0},"Create New Notification"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",id:"title",onChange:this.handlechange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"content"},"Message Content"),r.a.createElement("textarea",{id:"content",cols:"30",rows:"10",className:"materialize-textarea",onChange:this.handlechange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn blue lighten-1 z-depth-0"},"Create Message")))):r.a.createElement(u.a,{to:"/signin"})}}]),t}(n.Component),le=Object(g.b)(function(e){return{auth:e.firebase.auth}},function(e){return{createMessage:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var r=(0,n.getFirestore)(),l=a().firebase.auth.uid;r.collection("messages").add(Object(b.a)({},e,{adminId:l,createdOn:new Date})).then(function(){t({type:"CREATE_MESSAGE",message:e})}).catch(function(e){t({type:"CREATE_PROJECT_ERROR",err:e})})}}(t))},createNotification:function(t){return e(ae(t))}}})(re,ae),ie=Object(G.d)(Object(g.b)(function(e,t){var a=t.match.params.id,n=e.firestore.data.messages;return{message:n?n[a]:null}}),Object(U.firestoreConnect)([{collection:"messages"}]))(function(e){var t=e.message;return t?r.a.createElement("div",{className:"container section project-details"},r.a.createElement("div",{className:"card z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},t.title),r.a.createElement("p",null," ",t.content)),r.a.createElement("div",{className:"card-action gret lighten-4 grey-text"},r.a.createElement("div",null,"Posted by ",t.author," (Admin)"),r.a.createElement("div",null,j()(t.createdOn.toDate()).calendar())))):r.a.createElement("div",{className:"container center"},r.a.createElement("p",null,"Loading Message.."))}),se=function(e){var t=e.notifications2;return r.a.createElement("div",null,r.a.createElement("div",{className:"section notf notfw col s4"},r.a.createElement("div",{className:"card z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},"Message Log"),r.a.createElement("ul",{className:"notification-list msgact notf2"},t&&t.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("span",{className:"red-text"},e.admin,"(Admin) "),r.a.createElement("span",null,e.content),r.a.createElement("div",{className:"grey-text note-date"},j()(e.time.toDate()).format("MMMM Do YYYY, h:mm:ss a")))}))))),r.a.createElement("div",{className:"section notf notfw col s4"},r.a.createElement("div",{className:"card z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},"Train Log"),r.a.createElement("ul",{className:"notification-list msgact notf2"},t&&t.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("span",{className:"red-text"},e.admin,"(Admin) "),r.a.createElement("span",null,e.content),r.a.createElement("div",{className:"grey-text note-date"},j()(e.time.toDate()).format("MMMM Do YYYY, h:mm:ss a")))}))))),r.a.createElement("div",{className:"section notf notfw col s4"},r.a.createElement("div",{className:"card z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},"Driver Log"),r.a.createElement("ul",{className:"notification-list msgact notf2"},t&&t.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("span",{className:"red-text"},e.admin,"(Admin) "),r.a.createElement("span",null,e.content),r.a.createElement("div",{className:"grey-text note-date"},j()(e.time.toDate()).format("MMMM Do YYYY, h:mm:ss a")))}))))))},ce=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.notifications2;return t.uid?r.a.createElement("div",{className:"dashboard container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement(se,{notifications2:a})))):r.a.createElement(u.a,{to:"/signin"})}}]),t}(n.Component),oe=Object(G.d)(Object(g.b)(function(e){return console.log(e),{messages:e.firestore.ordered.messages,auth:e.firebase.auth,notifications2:e.firestore.ordered.notifications}}),Object(U.firestoreConnect)([{collection:"messages",limit:4,orderBy:["createdOn","desc"]},{collection:"notifications",orderBy:["time","desc"]}]))(ce),me=function(e){e.preventDefault(),Object(z.getFirestore)().collection("notificationPeople").where("subject","==",!0).delete().then(function(){alert("Passenger Notification Successfully Deleted!")}).catch(function(e){alert("Error removing document: ",e)})},de=function(e){var t=e.notificationPeople;return r.a.createElement("div",{className:"card z-deapth-0 notificationPeople-additional"},r.a.createElement("div",{className:"card-content grey-text text-darken-3"},r.a.createElement("span",{className:"card-title"},t.subject),r.a.createElement("p",null,"Content: ",t.message),r.a.createElement("p",null,"Posted by: ",t.userEmail),r.a.createElement("p",{className:"red-text"},j()(t.time.toDate()).calendar()),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn blue lighten-1 z-depth-0",align:"right",onClick:me},"Delete"))))},pe=function(e){var t=e.notificationPeople;return r.a.createElement("div",{className:"message-list section"},t&&t.map(function(e){return r.a.createElement(p.b,{to:"/message/"+e.id,key:e.id},r.a.createElement(de,{notificationPeople:e}))}))},ue=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.notificationPeople;return e.auth.uid?r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement("div",{className:"col s12 m6"},r.a.createElement(pe,{notificationPeople:t})))):r.a.createElement(u.a,{to:"/signin"})}}]),t}(n.Component),he=Object(G.d)(Object(g.b)(function(e){return console.log(e),{notificationPeople:e.firestore.ordered.notificationPeople,auth:e.firebase.auth}}),Object(U.firestoreConnect)([{collection:"notificationPeople",limit:5,orderBy:["time","desc"]}]))(ue),Ee=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/Driver",component:F}),r.a.createElement(u.b,{path:"/Register",component:x}),r.a.createElement(u.b,{path:"/Add",component:te}),r.a.createElement(u.b,{path:"/Search",component:X}),r.a.createElement(u.b,{path:"/Edit",component:J}),r.a.createElement(u.b,{path:"/Notifications",component:le}),r.a.createElement(u.b,{path:"/message/:id",component:ie}),r.a.createElement(u.b,{path:"/signin",component:D}),r.a.createElement(u.b,{path:"/actlog",component:oe}),r.a.createElement(u.b,{path:"/Passenger",component:he}),r.a.createElement(u.b,{exact:!0,path:"/",component:M}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ge={authError:null},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTRATION_SUCCESS":return console.log("Create User",t.user),Object(b.a)({},e,{authError:null});case"REGISTRATION_ERROR":return console.log("Create User Error",t.ERR),Object(b.a)({},e,{authError:"Registration Failed!"});case"LOGIN_SUCCESS":return console.log("Log In Success",t.ERR),Object(b.a)({},e,{authError:null});case"LOGIN_ERROR":return console.log("Log In Error",t.ERR),Object(b.a)({},e,{authError:"Loging Failed!"});case"CREATE_TRAIN":return console.log("Create Train Success"),Object(b.a)({},e,{authError:"Loging Failed!"});case"CREATE_TRAIN_ERROR":return console.log("Create Train Error",t.ERR),e;case"LOGOUT_SUCCESS":return console.log("Log Out Success",t.ERR),e;case"LOGOUT_ERROR":return console.log("Log Out Error",t.ERR),e;default:return e}},fe={user:[{name:"Udarata Manike",type:"Express",time:"12.30"}]},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_USER":return console.log("create user",t.user),e;case"CREATE_USER_ERROR":return console.log("create user ERROR",t.ERR),e;default:return e}},ye={messages:[{id:"1",title:"Train Strike",content:"Train strike is due to happen today"},{id:"2",title:"Train Delay",content:"Train strike is due to happen today"},{id:"3",title:"Train Accident",content:"Train strike is due to happen today"}]},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_MESSAGE":return console.log("created message",t.message),e;case"CREATE_MESSAGE_ERROR":return console.log("create project error",t.err),e;default:return e}},Ne=Object(G.c)({auth:be,shedule:ve,message:Ce,firestore:z.firestoreReducer,firebase:U.firebaseReducer}),Ae=a(274),De=a(275),Se=a.n(De),Oe=(a(539),a(543),Se.a.initializeApp({apiKey:"AIzaSyDin3Ah4eMirhFDz0eizFjGRx03C1v2IMo",authDomain:"shareplaces-5a4c6.firebaseapp.com",databaseURL:"https://shareplaces-5a4c6.firebaseio.com",projectId:"shareplaces-5a4c6",storageBucket:"shareplaces-5a4c6.appspot.com",messagingSenderId:"316261499606"})),xe=Object(G.e)(Ne,Object(G.d)(Object(G.a)(Ae.a.withExtraArgument({getFirebase:U.getFirebase,getFirestore:z.getFirestore})),Object(z.reduxFirestore)(Oe),Object(U.reactReduxFirebase)(Oe,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0})));xe.firebaseAuthIsReady.then(function(){i.a.render(r.a.createElement(g.a,{store:xe},r.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})})}},[[276,1,2]]]);
//# sourceMappingURL=main.936d85b7.chunk.js.map